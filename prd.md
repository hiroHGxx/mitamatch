# ミタマっち – Product Requirements Document (PRD)

> **Version**: 0.1 ｜ 2025‑03‑※日付自動更新
>
> 本ドキュメントは VibeCoding コミュニティ課題として開発するブラウザ育成ゲーム **「ミタマっち」** の全体設計を 1 ファイルに統合したものです。
>
> - **要件定義** → 企画・機能・スケジュール
> - **技術選定** → 開発スタックと環境
> - **ディレクトリ構成** → プロジェクト骨格
> - **タスクリスト** → 実装ロードマップ

---

## 1. 要件定義

### 1‑1 背景・目的

- VibeCoding 課題として **スキマ時間で遊べてシェアしたくなる** ミニ育成ゲームを制作
- CNP キャラ「ミタマ」を題材に、人気 4〜5 番手からの浮上を狙う
- ブラウザ即プレイ (PC & モバイル)／インストール不要

### 1‑2 ターゲットユーザー

| 区分    | 想定像                                   |
| ----- | ------------------------------------- |
| コア    | CNP / NinjaDAO / VibeCoding コミュニティ参加者 |
| カジュアル | Twitter/X 流入のライトゲーマー (10〜30 代)        |
| 地域    | 日本中心 ※将来多言語化検討                        |

### 1‑3 コアゲームサイクル

```mermaid
graph LR
  A[ログイン] --> B[お世話(1分以内)] --> C[くすっとイベント] --> D[報酬] --> E[進化/着せ替え] --> F[SNSシェア] --> A
```

- **お世話**：餌・掃除・遊びボタン (所要 30‑60 秒)
- **くすっとイベント**：駄洒落や表情崩壊で SNS 映え
- **報酬**：ゲーム内通貨「ソウル」や着せ替え
- **進化**：卵 → ベビー → ジュニア → アダルト (4 段階)

### 1‑4 差別化ポイント

1. 低負荷・1 分セッションで継続率↑
2. ランダム駄洒落で “くすっ” と笑わせる
3. ブラウザ URL ワンクリック即開始

### 1‑5 機能 (MVP)

| 優先  | 機能                  | 概要 |
| --- | ------------------- | -- |
| ★★★ | 育成メーター (満腹・清潔・ごきげん) |    |
| ★★★ | 4 段階進化・演出           |    |
| ★★☆ | くすっとイベント & GIF シェア  |    |
| ★★☆ | 着せ替えスキン             |    |
| ★☆☆ | SNS 共有ボタン           |    |

### 1‑6 アセット要件

| フェーズ | サイズ   | 色数  | 透過 | 備考         |
| ---- | ----- | --- | -- | ---------- |
| 卵    | 64×64 | ≤32 | ✅  | 孵化アニメ 5F   |
| ベビー  | 64×64 | ≤32 | ✅  | Idle/喜怒 3F |
| ジュニア | 64×64 | ≤32 | ✅  | Idle/喜怒 3F |
| アダルト | 72×72 | ≤32 | ✅  | Idle/喜怒 4F |

### 1‑7 スケジュール (ラフ)

| フェーズ | 期間         | マイルストーン  |
| ---- | ---------- | -------- |
| 企画確定 | 〜2025/03   | 本 PRD 承認 |
| α開発  | 2025/04‑05 | コアループ完成  |
| β開発  | 2025/06‑07 | 公開テスト    |
| リリース | 2025/08    | v1.0 公開  |

### 1‑8 リスク & 対策

| リスク     | 影響     | 対策             |
| ------- | ------ | -------------- |
| アセット遅延  | 進化演出に穴 | 縮小/減色をバッチ処理で時短 |
| UI が複雑化 | 離脱率↑   | 片手タップ完結 UI     |

---

## 2. 技術選定

> **コンセプト**: 1 人 × 数日で MVP 完成 ➜ GitHub Pages で公開。

### 2‑1 目標と制約

| 項目    | 内容                           |
| ----- | ---------------------------- |
| 開発人数  | 1 名 (Gemini CLI で AI コーディング) |
| 期間    | 3‑5 日 + polish 2 日           |
| オフライン | 可能 (全バンドル)                   |
| コスト   | 0 円 (無料ホスティング)               |

### 2‑2 スタック概要

| レイヤ    | 技術                        | メモ              |
| ------ | ------------------------- | --------------- |
| 描画     | **Phaser 3 + TypeScript** | 2D & アニメ簡単実装    |
| ビルド    | **Vite**                  | 爆速構築            |
| 保存     | localStorage              | JSON 1 本        |
| スタイリング | CSS / Tailwind CDN (任意)   | UI 最小           |
| バックエンド | なし (MVP)                  |                 |
| ホスティング | GitHub Pages              | `gh‑pages` コマンド |

### 2‑3 パフォーマンス目標

- JS バンドル < 1 MB gzip
- 画像 4 枚で < 120 KB

### 2‑4 初期セットアップ

1. `npm create vite@latest mitamatch -- --template vanilla-ts`
2. `npm i phaser`
3. `index.html` に `<script type="module" src="main.ts"></script>`
4. `main.ts` で Phaser.Game 初期化 (`pixelArt: true`)
5. 画像配置 & `preload()` 読込み
6. `vite build && gh-pages -d dist`

---

## 3. ディレクトリ構成

```
mitamatch/
├─ public/
│   ├─ favicon.png
│   └─ og.png
├─ src/
│   ├─ assets/sprites/ (egg.png 他)
│   ├─ scenes/ TitleScene.ts, PlayScene.ts
│   ├─ ui/ buttons.ts
│   ├─ types/ game.d.ts
│   ├─ main.ts
│   └─ style.css
├─ vite.config.ts
├─ tsconfig.json
├─ package.json
└─ README.md
```

---

## 4. To‑Do リスト (抜粋)

| フェーズ   | タスク例                      | 目安     |
| ------ | ------------------------- | ------ |
| 環境準備   | Node & pnpm インストール        | 10 min |
| プロジェクト | Vite 雛形 & Phaser 追加       | 15 min |
| アセット   | PNG 4 枚を 64×64 /32色 へ     | 15 min |
| シーン    | TitleScene → PlayScene 切替 | 30 min |
| お世話    | メーター UI／餌・掃除・遊ぶ           | 1 h    |
| 進化     | Phase enum & スプライト切替      | 45 min |
| 保存     | localStorage save/load    | 30 min |
| デプロイ   | gh‑pages 公開               | 5 min  |

> 完全版のタスクリストは `ToDo.md` を参照。

---

## 5. バックログ (v1.x〜)

- オンライン同期 & ランキング
- PWA (Service Worker)
- NFT 保有者スキン連携

---

### ✔️ 今後のフロー

1. 本 PRD を承認 → Issue 化
2. **0. 環境準備** から順に着手 (Gemini CLI がコード生成)
3. Alpha 動作確認 → β テスト → リリース

> 追記・修正があればお気軽に！

