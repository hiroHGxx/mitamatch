# ミタマっち 開発 ToDoリスト

> **凡例**: ⬜️ 未着手 | 🚧 作業中 | ✅ 完了 | ⏸️ 保留

## フェーズ1: 準備 & 技術検証 (PoC)

- [x] ✅ **1-1. 環境構築:**
    - [x] `npm create vite@latest mitamatch -- --template vanilla-ts` を実行
    - [x] `npm install phaser` でPhaserをインストール
    - [x] `npm install vitest -D` でVitestをインストール
- [x] ✅ **1-2. PoC① (UI検証):**
    - [x] `index.html` と `main.ts` を編集し、PhaserのCanvas上にHTMLボタンをオーバーレイ表示する。
    - [x] ボタンクリック時に、Phaserの`console.log`が実行されることを確認する。
- [x] ✅ **1-3. PoC② (アセット検証):**
    - [x] `public/assets/sprites` に `egg.png` と `baby.png` を配置する。
    - [x] シーン上で、クリックなどのイベントをトリガーにして、表示スプライトを `egg.png` から `baby.png` に切り替えられることを確認する。

## フェーズ2: MVP（最小実行可能プロダクト）実装

- [x] ✅ **2-1. プロジェクト雛形作成:**
    - [x] PoCコードを整理し、設計書に基づいたディレクトリ構成 (`scenes`, `game`, `ui`, `utils`, `types`) を作成する。
    - [x] `TitleScene.ts` と `PlayScene.ts` の雛形を作成し、シーン間の切り替えを実装する。
- [x] ✅ **2-2. UI実装:**
    - [x] `UIController.ts` を作成し、ヘッダー、フッターボタン、メータ表示領域のレイアウトをHTML/CSSで実装する。
- [ ] ⬜️ **2-3. ゲームロジック実装 (テスト駆動):**
    - [ ] `GameLogic.ts` と `GameLogic.spec.ts` を作成する。
    - [ ] Vitestを使い、メーターの初期化、増加、減少に関する単体テストを記述する。
    - [ ] テストにパスするように、`GameLogic.ts` のロジックを実装する。
- [ ] ⬜️ **2-4. 機能統合:**
    - [ ] `PlayScene.ts` で、UIボタンのイベント (`UIController`) と `GameLogic` を連携させる。
    - [ ] ボタンクリックでメーターが変動し、画面に反映されることを確認する。
- [ ] ⬜️ **2-5. 進化機能:**
    - [ ] `GameLogic` に進化判定ロジックを追加し、テストを作成する。
    - [ ] 進化時に `PlayScene` がアセットを切り替えて表示する処理を実装する。
- [ ] ⬜️ **2-6. データ永続化:**
    - [ ] `Storage.ts` を作成し、ゲームの状態をlocalStorageに保存・復元する機能を実装する。
    - [ ] ゲーム起動時に前回の状態が復元されることを確認する。
- [ ] ⬜️ **2-7. 仕上げ:**
    - [ ] 「くすっとイベント」のロジックと表示を実装する。
    - [ ] SNSシェアボタンを実装する。
    - [ ] 全体的なデザインや演出を調整する。

## フェーズ3: デプロイ

- [ ] ⬜️ **3-1. ビルド & 確認:**
    - [ ] `npm run build` を実行し、`dist` ディレクトリに成果物が出力されることを確認する。
    - [ ] ローカルサーバーで `dist` の内容をホストし、本番同様に動作することを確認する。
- [ ] ⬜️ **3-2. デプロイ:**
    - [ ] `gh-pages` パッケージを導入し、GitHub Pagesにデプロイする。
    - [ ] 公開されたURLにアクセスし、正常にプレイできることを確認する。
